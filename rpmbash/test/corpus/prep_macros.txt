===============================================================================
%setup is parsed as rpm_setup
===============================================================================

%setup -n foo

-------------------------------------------------------------------------------

(program
  (rpm_setup
    (rpm_setup_keyword)
    (rpm_macro_body)))

===============================================================================
%autosetup is parsed as rpm_autosetup
===============================================================================

%autosetup -n samba-%{version} -p1

-------------------------------------------------------------------------------

(program
  (rpm_autosetup
    (rpm_autosetup_keyword)
    (rpm_macro_body)))

===============================================================================
%patch is parsed as rpm_patch
===============================================================================

%patch -P 0 -p1

-------------------------------------------------------------------------------

(program
  (rpm_patch
    (rpm_patch_keyword)
    (rpm_macro_body)))

===============================================================================
%autopatch is parsed as rpm_autopatch
===============================================================================

%autopatch -m 0 -M 100

-------------------------------------------------------------------------------

(program
  (rpm_autopatch
    (rpm_autopatch_keyword)
    (rpm_macro_body)))

===============================================================================
Special prep macros without arguments
===============================================================================

%setup
%autosetup
%patch
%autopatch

-------------------------------------------------------------------------------

(program
  (rpm_setup
    (rpm_setup_keyword))
  (rpm_autosetup
    (rpm_autosetup_keyword))
  (rpm_patch
    (rpm_patch_keyword))
  (rpm_autopatch
    (rpm_autopatch_keyword)))

===============================================================================
Special prep macros with RPM macro expansions in arguments
===============================================================================

%setup -n %{name}-%{version}
%autosetup -n samba-%{version}%{pre_release} -p1

-------------------------------------------------------------------------------

(program
  (rpm_setup
    (rpm_setup_keyword)
    (rpm_macro_body))
  (rpm_autosetup
    (rpm_autosetup_keyword)
    (rpm_macro_body)))
