===============================================================================
Pre Section (Empty)
===============================================================================

%pre

-------------------------------------------------------------------------------

(spec
  (runtime_scriptlet))

===============================================================================
Pre Section (subpackage)
===============================================================================

%pre foo

-------------------------------------------------------------------------------

(spec
  (runtime_scriptlet
    (identifier)))

===============================================================================
Pre Section (package)
===============================================================================

%pre -n foo

-------------------------------------------------------------------------------

(spec
  (runtime_scriptlet
    (identifier)))

===============================================================================
Pre Section (shell)
===============================================================================

%pre -n nonsense
cat /dev/urandom

-------------------------------------------------------------------------------

(spec
  (runtime_scriptlet
    (identifier)
    (script_block
      (script_line
        (script_content)))))

===============================================================================
Post Section (shell if/fi block)
===============================================================================

%post
if bootctl --quiet is-installed >/dev/null 2>&1 ; then
    bootctl --no-variables --graceful update || echo "warning"
fi

-------------------------------------------------------------------------------

(spec
  (runtime_scriptlet
    (script_block
      (script_line
        (script_content))
      (script_line
        (script_content))
      (script_line
        (script_content)))))

===============================================================================
Post Section (subpackage name with if/fi block)
===============================================================================

%post boot-efi
if bootctl --quiet is-installed >/dev/null 2>&1 ; then
    bootctl --no-variables --graceful update || echo "warning"
fi

-------------------------------------------------------------------------------

(spec
  (runtime_scriptlet
    (identifier)
    (script_block
      (script_line
        (script_content))
      (script_line
        (script_content))
      (script_line
        (script_content)))))

===============================================================================
Pre Section (custom interpreter)
===============================================================================

%pre -p /bin/bash
echo "Running with bash"

-------------------------------------------------------------------------------

(spec
  (runtime_scriptlet_interpreter
    interpreter: (script_interpreter
      program: (interpreter_program))
    (script_block
      (script_line
        (script_content)))))

===============================================================================
Post Section (python interpreter)
===============================================================================

%post -p /usr/bin/python3
import sys
print("Installing with Python")

-------------------------------------------------------------------------------

(spec
  (runtime_scriptlet_interpreter
    interpreter: (script_interpreter
      program: (interpreter_program))
    (script_block
      (script_line
        (script_content))
      (script_line
        (script_content)))))

===============================================================================
Pre Section (lua interpreter)
===============================================================================

%pretrans -p <lua>
print("Running with Lua")

-------------------------------------------------------------------------------

(spec
  (runtime_scriptlet_interpreter
    interpreter: (script_interpreter
      program: (interpreter_program))
    (script_block
      (script_line
        (script_content)))))
