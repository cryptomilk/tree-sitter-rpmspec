===============================================================================
Subpackage (subpackage)
===============================================================================

%package client
Summary: Client

-------------------------------------------------------------------------------

(spec
  (package
    (identifier)
    (package_tag
      (tag)
      (word))))

===============================================================================
Subpackage (subpackage with arbitrary name)
===============================================================================

%package -n subpackage
Summary: Subpackage

-------------------------------------------------------------------------------

(spec
  (package
    (identifier)
    (package_tag
      (tag)
      (word))))

===============================================================================
Subpackage (subpackage with arbitrary name with macros)
===============================================================================

%package -n %{name}-subpackage
Summary: Subpackage

-------------------------------------------------------------------------------

(spec
  (package
    (macro_expansion
      (identifier))
    (package_tag
      (tag)
      (word))))

===============================================================================
Subpackage (with %if conditional)
===============================================================================

%package udev
Summary: Test
License: MIT
Requires: foo
%if 0%{?fedora}
Requires: bar
%endif
Conflicts: baz

-------------------------------------------------------------------------------

(spec
  (package
    name: (identifier)
    (package_tag
      (tag)
      value: (word))
    (package_tag
      (tag)
      value: (word))
    (package_tag
      (dependency_tag)
      value: (dependency
        name: (word)))
    condition: (concatenation
      (integer)
      (macro_expansion
        (conditional_expansion
          condition: (identifier))))
    consequence: (package_tag
      (dependency_tag)
      value: (dependency
        name: (word)))
    (package_tag
      (dependency_tag)
      value: (dependency
        name: (word)))))

===============================================================================
Subpackage (with %ifarch and %global)
===============================================================================

%package tools
Summary: Tools
%ifarch riscv64
%global binutils_version_req >= 2.42
%endif
BuildRequires: binutils %{?binutils_version_req}

-------------------------------------------------------------------------------

(spec
  (package
    name: (identifier)
    (package_tag
      (tag)
      value: (word))
    condition: (arch
      (identifier))
    consequence: (macro_definition
      name: (identifier)
      value: (word)
      value: (word)
      value: (version))
    (package_tag
      (dependency_tag)
      value: (dependency
        name: (word)
        name: (macro_expansion
          (conditional_expansion
            condition: (identifier)))))))

===============================================================================
Subpackage (with plus in name)
===============================================================================

%package -n %{name}+default-devel
Summary: Default feature devel

-------------------------------------------------------------------------------

(spec
  (package
    name: (macro_expansion
      (identifier))
    (package_tag
      (tag)
      value: (concatenation
        (word)
        (word)
        (word)))))

===============================================================================
Subpackage (with macro expansion in content)
===============================================================================

%package master
Summary: Master package
%{?systemd_requires}

-------------------------------------------------------------------------------

(spec
  (package
    name: (identifier)
    (package_tag
      (tag)
      value: (concatenation
        (word)
        (word)))
    (macro_expansion
      (conditional_expansion
        condition: (identifier)))))
