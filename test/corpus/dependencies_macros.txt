===============================================================================
Macro dependency (simple name macro)
===============================================================================

Requires: %{name} = %{version}

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency
        name: (macro_expansion
          (identifier))
        version: (macro_expansion
          (identifier))))))

===============================================================================
Macro dependency (name with ISA suffix)
===============================================================================

Requires: %{name}%{?_isa} = %{version}

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency
        name: (macro_expansion
          (identifier))
        name: (macro_expansion
          (conditional_expansion
            condition: (identifier)))
        version: (macro_expansion
          (identifier))))))

===============================================================================
Macro dependency (name with literal suffix)
===============================================================================

Requires: %{name}-libs >= %{version}

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency
        name: (macro_expansion
          (identifier))
        name: (word)
        version: (macro_expansion
          (identifier))))))

===============================================================================
Macro dependency (version with release)
===============================================================================

Requires: %{name} = %{version}-%{release}

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency
        name: (macro_expansion
          (identifier))
        version: (macro_expansion
          (identifier))
        version: (macro_expansion
          (identifier))))))

===============================================================================
Macro dependency (full ISA dependency)
===============================================================================

Requires: %{name}%{?_isa} = %{version}-%{release}

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency
        name: (macro_expansion
          (identifier))
        name: (macro_expansion
          (conditional_expansion
            condition: (identifier)))
        version: (macro_expansion
          (identifier))
        version: (macro_expansion
          (identifier))))))

===============================================================================
Macro dependency (literal name with macro suffix)
===============================================================================

Requires: foo%{?_isa} >= 1.0

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency
        name: (word)
        name: (macro_expansion
          (conditional_expansion
            condition: (identifier)))
        version: (version)))))

===============================================================================
Macro dependency (simple macro expansion in name)
===============================================================================

Requires: %name = 1.0

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency
        name: (macro_simple_expansion
          (simple_macro))
        version: (version)))))
