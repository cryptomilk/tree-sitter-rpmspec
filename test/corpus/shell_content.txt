===============================================================================
Shell Content (backslash escape sequences)
===============================================================================

%build
echo "\n\t\r"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (shell_content))))

===============================================================================
Shell Content (negation operator)
===============================================================================

%build
if ! diff -u file1 file2; then
    echo "Different"
fi

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (shell_content)
      (shell_content)
      (shell_content))))

===============================================================================
Shell Content (variable assignment)
===============================================================================

%build
FOO="bar"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (shell_content))))

===============================================================================
Shell Content (command substitution)
===============================================================================

%build
VERSION=$(cat VERSION)

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (shell_content))))

===============================================================================
Shell Content (shell variable)
===============================================================================

%build
export PATH="${PATH}:/opt/bin"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (shell_content))))

===============================================================================
Shell Content (mixed shell and RPM macro)
===============================================================================

%build
echo "Building %{name}"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (shell_content)
      (macro_expansion
        (identifier))
      (shell_content))))

===============================================================================
Shell Content (RPM macro at start of line)
===============================================================================

%build
%{__make} all

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (macro_expansion
        (identifier))
      (shell_content))))

===============================================================================
Shell Content (multiple RPM macros in line)
===============================================================================

%build
%{__install} -m 755 foo %{buildroot}%{_bindir}/

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (macro_expansion
        (identifier))
      (shell_content)
      (macro_expansion
        (identifier))
      (macro_expansion
        (identifier))
      (shell_content))))

===============================================================================
Shell Content (simple macro in shell)
===============================================================================

%build
echo %version

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (shell_content)
      (macro_simple_expansion
        (simple_macro)))))

===============================================================================
Shell Content (macro expression in shell)
===============================================================================

%build
echo "Result: %[1 + 2]"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (shell_content)
      (macro_expression
        (macro_arithmetic_operator
          (integer)
          (integer)))
      (shell_content))))

===============================================================================
Shell Content (macro shell expansion in shell)
===============================================================================

%build
echo "Date: %(date +%Y)"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (shell_content)
      (macro_shell_expansion
        (shell_command
          (shell_code)
          (macro_simple_expansion
            (simple_macro))))
      (shell_content))))
