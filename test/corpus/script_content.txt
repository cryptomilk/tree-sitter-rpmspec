===============================================================================
Shell Content (line continuation simple)
===============================================================================

%build
touch file1 \
      file2

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)
        (line_continuation)
        (script_content)))))

===============================================================================
Shell Content (line continuation with macros)
===============================================================================

%build
touch %{buildroot}%{_sysconfdir}/file1 \
      %{buildroot}%{_sysconfdir}/file2

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)
        (macro_expansion
          (identifier))
        (macro_expansion
          (identifier))
        (script_content)
        (line_continuation)
        (macro_expansion
          (identifier))
        (macro_expansion
          (identifier))
        (script_content)))))

===============================================================================
Shell Content (backslash escape sequences)
===============================================================================

%build
echo "\n\t\r"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)
        (script_content)))))

===============================================================================
Shell Content (negation operator)
===============================================================================

%build
if ! diff -u file1 file2; then
    echo "Different"
fi

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content))
      (script_line
        (script_content))
      (script_line
        (script_content)))))

===============================================================================
Shell Content (variable assignment)
===============================================================================

%build
FOO="bar"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)))))

===============================================================================
Shell Content (command substitution)
===============================================================================

%build
VERSION=$(cat VERSION)

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)))))

===============================================================================
Shell Content (shell variable)
===============================================================================

%build
export PATH="${PATH}:/opt/bin"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)))))

===============================================================================
Shell Content (mixed shell and RPM macro)
===============================================================================

%build
echo "Building %{name}"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)
        (macro_expansion
          (identifier))
        (script_content)))))

===============================================================================
Shell Content (RPM macro at start of line)
===============================================================================

%build
%{__make} all

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (macro_expansion
          (identifier))
        (script_content)))))

===============================================================================
Shell Content (multiple RPM macros in line)
===============================================================================

%build
%{__install} -m 755 foo %{buildroot}%{_bindir}/

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (macro_expansion
          (identifier))
        (script_content)
        (macro_expansion
          (identifier))
        (macro_expansion
          (identifier))
        (script_content)))))

===============================================================================
Shell Content (simple macro in shell)
===============================================================================

%build
echo %version

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)
        (macro_simple_expansion
          (simple_macro))))))

===============================================================================
Shell Content (macro expression in shell)
===============================================================================

%build
echo "Result: %[1 + 2]"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)
        (macro_expression
          (macro_arithmetic_operator
            (integer)
            (integer)))
        (script_content)))))

===============================================================================
Shell Content (macro shell expansion in shell)
===============================================================================

%build
echo "Date: %(date +%Y)"

-------------------------------------------------------------------------------

(spec
  (build_scriptlet
    (section_name)
    (script_block
      (script_line
        (script_content)
        (macro_shell_expansion
          (shell_command
            (script_code)
            (macro_simple_expansion
              (simple_macro))))
        (script_content)))))
