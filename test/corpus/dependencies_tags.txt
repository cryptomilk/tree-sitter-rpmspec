===============================================================================
Tag-specific: Requires with boolean dependency
===============================================================================

Requires: (pkgA or pkgB)

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (rich_dependency_list
        (boolean_dependency
          (boolean_or_expression
            left: (dependency
              name: (dependency_name
                (word)))
            right: (dependency
              name: (dependency_name
                (word)))))))))

===============================================================================
Tag-specific: BuildRequires with boolean dependency
===============================================================================

BuildRequires: (cmake >= 3.10 and ninja)

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (rich_dependency_list
        (boolean_dependency
          (boolean_and_expression
            left: (dependency
              name: (dependency_name
                (word))
              version: (dependency_version_constraint
                operator: (dependency_comparison_operator)
                version: (version)))
            right: (dependency
              name: (dependency_name
                (word)))))))))

===============================================================================
Tag-specific: BuildPreReq (deprecated)
===============================================================================

BuildPreReq: rpm-macros-systemd

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (rich_dependency_list
        (dependency
          name: (dependency_name
            (word)))))))

===============================================================================
Tag-specific: BuildRequires with qualifier
===============================================================================

BuildRequires(pre): rpm-build-xdg

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag
        (qualifier))
      value: (rich_dependency_list
        (dependency
          name: (dependency_name
            (word)))))))

===============================================================================
Tag-specific: BuildRequires with invalid qualifier
===============================================================================

# BuildRequires(post) is invalid - only Requires supports (post).
# Error recovery parses "rpm" as simple_macro and "-build-xdg" as macro_value_text.
# The exact ERROR structure may change when grammar rules are modified.
BuildRequires(post): rpm-build-xdg

-------------------------------------------------------------------------------

(spec
  (comment)
  (comment)
  (comment)
  (ERROR
    (simple_macro)
    (macro_value_text)))

===============================================================================
Tag-specific: Recommends with boolean dependency
===============================================================================

Recommends: (pkgA and pkgB)

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (rich_dependency_list
        (boolean_dependency
          (boolean_and_expression
            left: (dependency
              name: (dependency_name
                (word)))
            right: (dependency
              name: (dependency_name
                (word)))))))))

===============================================================================
Tag-specific: Suggests with boolean dependency
===============================================================================

Suggests: (nice-pkg if feature-pkg)

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (rich_dependency_list
        (boolean_dependency
          (boolean_if_expression
            consequence: (dependency
              name: (dependency_name
                (word)))
            condition: (dependency
              name: (dependency_name
                (word)))))))))

===============================================================================
Tag-specific: Conflicts without boolean (simple)
===============================================================================

Conflicts: bad-package >= 1.0

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency_list
        (dependency
          name: (dependency_name
            (word))
          version: (dependency_version_constraint
            operator: (dependency_comparison_operator)
            version: (version)))))))

===============================================================================
Tag-specific: BuildConflicts without boolean
===============================================================================

BuildConflicts: conflicting-build-tool

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency_list
        (dependency
          name: (dependency_name
            (word)))))))

===============================================================================
Tag-specific: Obsoletes without boolean (versioned)
===============================================================================

Obsoletes: old-package <= 1.0

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency_list
        (dependency
          name: (dependency_name
            (word))
          version: (dependency_version_constraint
            operator: (dependency_comparison_operator)
            version: (version)))))))

===============================================================================
Tag-specific: Provides without boolean (versioned)
===============================================================================

Provides: virtual-pkg = 2.0

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency_list
        (dependency
          name: (dependency_name
            (word))
          version: (dependency_version_constraint
            operator: (dependency_comparison_operator)
            version: (version)))))))

===============================================================================
Tag-specific: Provides bundled library
===============================================================================

Provides: bundled(libfoo) = 1.2.3

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (dependency_list
        (dependency
          (qualified_dependency
            name: (word)
            qualifier: (dependency_qualifier
              content: (identifier))
            version: (dependency_version_constraint
              operator: (dependency_comparison_operator)
              version: (version))))))))

===============================================================================
Tag-specific: BuildArch literal
===============================================================================

BuildArch: noarch

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (word))))

===============================================================================
Tag-specific: ExclusiveArch multiple
===============================================================================

ExclusiveArch: x86_64 aarch64

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (concatenation
        (word)
        (word)))))

===============================================================================
Tag-specific: ExcludeArch with macro
===============================================================================

ExcludeArch: %{ix86}

-------------------------------------------------------------------------------

(spec
  (preamble
    (tags
      (dependency_tag)
      value: (macro_expansion
        (identifier)))))

